"""
Database initialization script.
Creates tables and inserts fallback recipe from second sample in tavily_responce.txt
"""
import json
import uuid
from datetime import datetime
from backend.database import init_database, create_recipe
from backend.logger import setup_logging, get_logger

# Setup logging
setup_logging()
logger = get_logger(__name__)

# Fallback recipe data - second sample from tavily_responce.txt (index 1)
FALLBACK_TAVILY_RESPONSE = {
    "query": "—Ä–µ—Ü–µ–ø—Ç —Å–∞–ª–∞—Ç–∞ –æ–ª–∏–≤—å–µ",
    "follow_up_questions": None,
    "answer": "–û–ª–∏–≤—å–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫–æ–ª–±–∞—Å—ã, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—è, –º–æ—Ä–∫–æ–≤–∫–∏, –≥–æ—Ä–æ—à–∫–∞, —è–∏—Ü –∏ –º–∞–π–æ–Ω–µ–∑–∞. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ä–µ—Ü–µ–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—Ä—ë–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã. –ú–∞–π–æ–Ω–µ–∑ —Å–≤—è–∑—ã–≤–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –ø–ª–æ—Ç–Ω—É—é –º–∞—Å—Å—É.",
    "images": [],
    "results": [
        {
            "url": "https://www.youtube.com/watch?v=puc7IoTOvJ0",
            "title": "–°–∞–ª–∞—Ç \"–û–ª–∏–≤—å–µ\" –∫–∞–∫ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ! –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –í–∫—É—Å–Ω—ã–π –†–µ—Ü–µ–ø—Ç ...",
            "content": "–°–∞–ª–∞—Ç \"–û–ª–∏–≤—å–µ\" –∫–∞–∫ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ! –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –í–∫—É—Å–Ω—ã–π –†–µ—Ü–µ–ø—Ç. –ì–æ—Ç–æ–≤–ª—é –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ –Ω–∞ –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π —Å—Ç–æ–ª!\n–†–µ—Ü–µ–ø—Ç—ã –≤ –≥–æ—Å—Ç—è—Ö —É –í–∞–Ω–∏\n2500000 subscribers\n4925 likes\n87807 views\n30 Dec 2025\n–°–∞–ª–∞—Ç –æ–ª–∏–≤—å–µ —ç—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–∞–ª–∞—Ç –¥–ª—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–≥–æ —Å—Ç–æ–ª–∞ –∏ –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞. –ü–æ–∫–∞–∑—ã–≤–∞—é, –∫–∞–∫ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∞–ª–∞—Ç –æ–ª–∏–≤—å–µ –≤ –¥–æ–º–∞—à–Ω–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö, —á—Ç–æ–±—ã –æ–Ω –ø–æ–ª—É—á–∏–ª—Å—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–∫—É—Å–Ω—ã–º –∏ —Å–æ—á–Ω—ã–º! –°–∞–ª–∞—Ç –æ–ª–∏–≤—å–µ, –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ª—é–±–∏–º—ã—Ö –∏ —É–∑–Ω–∞–≤–∞–µ–º—ã—Ö –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —Å–∞–ª–∞—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–¥ –∑–∞ –≥–æ–¥–æ–º –æ—Å—Ç–∞—ë—Ç—Å—è –≥–ª–∞–≤–Ω—ã–º –±–ª—é–¥–æ–º –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–º —Å—Ç–æ–ª–µ. –í —ç—Ç–æ–º –≤–∏–¥–µ–æ —è –ø–æ–∫–∞–∑—ã–≤–∞—é, –∫–∞–∫ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∞–ª–∞—Ç –æ–ª–∏–≤—å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —á—Ç–æ–±—ã –æ–Ω –ø–æ–ª—É—á–∏–ª—Å—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–∫—É—Å–Ω—ã–º, —Å–æ—á–Ω—ã–º –∏ –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã–º. –≠—Ç–æ —Å–∞–ª–∞—Ç —Ä–µ—Ü–µ–ø—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–µ–º, –Ω–æ —Å –≤–∞–∂–Ω—ã–º–∏ –Ω—é–∞–Ω—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è—é—Ç –Ω–∞ –∏—Ç–æ–≥–æ–≤—ã–π –≤–∫—É—Å.\n–°–∞–º—ã–π –≤–∞–∂–Ω—ã–π —Å–µ–∫—Ä–µ—Ç —ç—Ç–æ–≥–æ —Å–∞–ª–∞—Ç–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–≤–æ—â–∏ —è –≥–æ—Ç–æ–≤–ª—é –∑–∞—Ä–∞–Ω–µ–µ, –µ—â—ë —Å –≤–µ—á–µ—Ä–∞, –Ω–æ –Ω–µ –ø—Ä–∏–≤—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –º–∞–∫—Å–∏–º—É–º –≤–∫—É—Å–∞, —è –∑–∞–ø–µ–∫–∞—é –æ–≤–æ—â–∏ –≤ –¥—É—Ö–æ–≤–∫–µ. –ó–∞–ø–µ—á—ë–Ω–Ω—ã–µ –æ–≤–æ—â–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è –±–æ–ª–µ–µ —è—Ä–∫–∏–º–∏, –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–º–∏ –∏ –ø–æ –≤–∫—É—Å—É –∑–∞–º–µ—Ç–Ω–æ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω—ã—Ö –≤–∞—Ä—ë–Ω—ã—Ö.\n–ï—Å–ª–∏ –í—ã –∏—â–µ—Ç–µ —Ä–µ—Ü–µ–ø—Ç—ã —Å–∞–ª–∞—Ç–æ–≤, –ø—Ä–æ—Å—Ç—ã–µ –∏ –≤–∫—É—Å–Ω—ã–µ —Å–∞–ª–∞—Ç—ã –∏–ª–∏ —Å–∞–ª–∞—Ç—ã –Ω–∞ –Ω–æ–≤—ã–π –≥–æ–¥, —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–æ–π–¥—ë—Ç –∏–¥–µ–∞–ª—å–Ω–æ. –¢–∞–∫–æ–π —Å–∞–ª–∞—Ç –æ–ª–∏–≤—å–µ –æ—Ç–ª–∏—á–Ω–æ –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —Å–∞–ª–∞—Ç—ã –∏ —Å–∞–ª–∞—Ç—ã –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Å—Ç–æ–ª, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –ø–æ–Ω—è—Ç–Ω—ã–π, –ª—é–±–∏–º—ã–π –∏ –≤—Å–µ–≥–¥–∞ —É–º–µ—Å—Ç–Ω—ã–π. –Ø –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é, –∫–∞–∫ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∞–ª–∞—Ç –≤ –¥–æ–º–∞—à–Ω–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö, —á—Ç–æ–±—ã –æ–Ω –Ω–µ –±—ã–ª —Å—É—Ö–∏–º –∏ —Ç—è–∂—ë–ª—ã–º, –∞ –æ—Å—Ç–∞–≤–∞–ª—Å—è –Ω–µ–∂–Ω—ã–º –∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º.\n–≠—Ç–æ—Ç —Å–∞–ª–∞—Ç –¥–æ–º–∞—à–Ω–∏–π –ø–æ–¥–æ–π–¥—ë—Ç –∫–∞–∫ –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –∑–∞—Å—Ç–æ–ª—å—è, —Ç–∞–∫ –∏ –¥–ª—è —É—é—Ç–Ω–æ–≥–æ —Å–µ–º–µ–π–Ω–æ–≥–æ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞. –û–Ω –æ—Ç–ª–∏—á–Ω–æ –¥–æ–ø–æ–ª–Ω—è–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Å–∞–ª–∞—Ç—ã, –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–µ–º, –∫—Ç–æ –ª—é–±–∏—Ç –ø—Ä–æ—Å—Ç—ã–µ —Å–∞–ª–∞—Ç—ã –Ω–∞ —Å—Ç–æ–ª –∏ —Ü–µ–Ω–∏—Ç —Ä–µ—Ü–µ–ø—Ç—ã —Å–∞–ª–∞—Ç–æ–≤ –ø—Ä–æ—Å—Ç—ã–µ –∏ –≤–∫—É—Å–Ω—ã–µ. –¢–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –º–æ–∂–Ω–æ —Å–º–µ–ª–æ –≥–æ—Ç–æ–≤–∏—Ç—å –∫–∞–∫ —Å–∞–ª–∞—Ç –≥–æ–¥–∞ ,–æ–Ω –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª–µ–Ω –∏ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω.\n–ï—Å–ª–∏ –í—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —Å–∞–ª–∞—Ç—ã –Ω–∞ –Ω–æ–≤—ã–π –≥–æ–¥ 2026 –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∞–ª–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω—Ä–∞–≤–∏—Ç—Å—è –≤—Å–µ–º –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∏–¥–µ–æ –¥–æ –∫–æ–Ω—Ü–∞. –î–µ–ª–∏—Ç–µ—Å—å –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö, —Å–∫–æ–ª—å–∫–æ –∫–∏–ª–æ–≥—Ä–∞–º–º–æ–≤ –æ–ª–∏–≤—å–µ –í—ã –æ–±—ã—á–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç–µ –∏ –∫–∞–∫–∏–µ –≤–∫—É—Å–Ω—ã–µ —Å–∞–ª–∞—Ç—ã –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Å—Ç–æ–ª –¥–ª—è –≤–∞—Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã. –ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ –º–æ–π –∫–∞–Ω–∞–ª, –∑–¥–µ—Å—å –í—ã –Ω–∞–π–¥—ë—Ç–µ —Ä–µ—Ü–µ–ø—Ç—ã –≤–∫—É—Å–Ω—ã—Ö —Å–∞–ª–∞—Ç–æ–≤, –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Å–∞–ª–∞—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∏–¥–µ–∏ –¥–ª—è –ª—é–±–æ–≥–æ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞. –ì–æ—Ç–æ–≤—å—Ç–µ –ø–æ–±–æ–ª—å—à–µ –æ–ª–∏–≤—å–µ, —è –≤—Å–µ—Ö –ø–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –ù–æ–≤—ã–º –≥–æ–¥–æ–º –∏ –Ω–∞—Å—Ç—É–ø–∞—é—â–∏–º–∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞–º–∏ –∏ –í—Å–µ–º –∂–µ–ª–∞—é –º–Ω–æ–≥–æ –¥–æ–±—Ä–∞ –∏ —Å—á–∞—Å—Ç—å—è!!\n\n–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —ç—Ç–æ–º—É –∫–∞–Ω–∞–ª—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º:\nhttps://www.youtube.com/channel/UCpXsZ0ntv2szSaG3LzWI6OA/join\n\n–¢–µ–ª–µ–≥—Ä–∞–º–º: https://t.me/KasIvan\n\n‚ùóÔ∏è–ù–∞–¥–µ—é—Å—å —ç—Ç–æ—Ç –∫–∞–Ω–∞–ª –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –í–∞—Å!\n\n–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Å–∞–ª–∞—Ç –æ–ª–∏–≤—å–µ (–æ–ª–∏–≤—å–µ —Ä–µ—Ü–µ–ø—Ç):\n–í–∞—Ä–µ–Ω–∞—è –∫–æ–ª–±–∞—Å–∞ 800 –≥—Ä–∞–º–º\n–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å 1 –∫–≥.\n–°–æ–ª–µ–Ω—ã–µ –æ–≥—É—Ä—Ü—ã 500 –≥—Ä–∞–º–º\n–ú–æ—Ä–∫–æ–≤—å 400 –≥—Ä.\n–ì–æ—Ä–æ—à–µ–∫ 2 –±–∞–Ω–∫–∏ –ø–æ 400 –º–ª.\n–Ø–π—Ü–∞ 12 —à—Ç. –∏–ª–∏ 650 –≥—Ä–∞–º–º\n–ú–∞–π–æ–Ω–µ–∑ 400 –≥—Ä.\n–°–æ–ª—å, –ø–µ—Ä–µ—Ü –ø–æ –≤–∫—É—Å—É\n–†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ –º–∞—Å–ª–æ –¥–ª—è –æ–≤–æ—â–µ–π\n\n–¢–∞–∫–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —ç—Ç–∏ —Ä–µ—Ü–µ–ø—Ç—ã:\n\n–û–ª–∏–≤—å–µ —Å –∫—É—Ä–∏—Ü–µ–π https://youtu.be/ZY8LI9HIl9Q\n–û–ª–∏–≤—å–µ —Å –≥–æ–≤—è–¥–∏–Ω–æ–π https://youtu.be/sVJvkPuTPuM\n–û–ª–∏–≤—å–µ —Å –≤–µ—Ç—á–∏–Ω–æ–π https://youtu.be/lfDtHIM5BAw\n\n–•–æ–ª–æ–¥–µ—Ü –∏–∑ —Ç—Ä–µ—Ö –≤–∏–¥–æ–≤ –º—è—Å–∞:  https://youtu.be/LSXdakt0gqQ\n–•–æ–ª–æ–¥–µ—Ü –∏–∑ –∫—É—Ä–∏—Ü—ã https://youtu.be/44UePMSABhI\n–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∞—Ä–∏—Ç—å —è–∑—ã–∫ –≥–æ–≤—è–∂–∏–π https://youtu.be/A9yBRvvIN2E\n–ú–µ–Ω—é –Ω–∞ –ù–æ–≤—ã–π 2026 –≥–æ–¥ https://youtu.be/sJmSqpLZTRs\n–ú–µ–Ω—é –Ω–∞ –ù–æ–≤—ã–π 2025 –≥–æ–¥ https://youtu.be/cf7oHbFiT-E\n–ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ –º–µ–Ω—é 2025 –†–µ—Ü–µ–ø—Ç—ã —Å–∞–ª–∞—Ç–æ–≤, —É—Ç–∫–∏ –∏ —Ä—ã–±—ã https://youtu.be/1npuHBriFA4\n–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –ó–∞–∫—É—Å–∫–∏ https://youtu.be/z-NwdLm3nK0\n–ó–∞–ø–µ—á–µ–Ω–Ω–∞—è –≥–æ–≤—è–¥–∏–Ω–∞ –≤ –¥—É—Ö–æ–≤–∫–µ https://youtu.be/zBU_wr28_30\n–¢–æ—Ä—Ç –ù–∞–ø–æ–ª–µ–æ–Ω https://youtu.be/CdJNUFzfmJU\n–ù–æ–≤–æ–≥–æ–¥–Ω—è—è —É—Ç–∫–∞ –≤ –¥—É—Ö–æ–≤–∫–µ (–º–∞—Ä–∏–Ω–∞–¥) https://youtu.be/cwTSSSv1tRE\n–†–µ—Ü–µ–ø—Ç —É—Ç–∫–∏ –≤ –¥—É—Ö–æ–≤–∫–µ (–±—ã—Å—Ç—Ä—ã–π) https://youtu.be/NBTYPsKqoqY\n–°–∞–ª–∞—Ç \"–°–µ–ª—ë–¥–∫–∞ –ø–æ–¥ –®—É–±–æ–π\" https://youtu.be/VOmpenWVoeE\n–°–∞–ª–∞—Ç \"–ú–∏–º–æ–∑–∞\" –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ä–µ—Ü–µ–ø—Ç https://youtu.be/HB9GgOwQas0\n–°–∞–ª–∞—Ç \"–¢–±–∏–ª–∏—Å–∏\" https://youtu.be/6D1Q_uLHLMk\n–°–∞–ª–∞—Ç \"–í–∏–Ω–µ–≥—Ä–µ—Ç\" https://youtu.be/XKKYzvgQ9HI\n\"–ö—Ä–∞–±–æ–≤—ã–π\" —Å–∞–ª–∞—Ç https://youtu.be/iRdUsHNzhdo\n–°–∞–ª–∞—Ç –ì—Ä–∞–Ω–∞—Ç–æ–≤—ã–π –ë—Ä–∞—Å–ª–µ—Ç https://youtu.be/shACBVN1nSg\n–°–∞–ª–∞—Ç –ì–Ω–µ–∑–¥–æ –ì–ª—É—Ö–∞—Ä—è https://youtu.be/uCAB1DH4QQs\n–°–∞–ª–∞—Ç —Å —á–µ—Ä–Ω–æ—Å–ª–∏–≤–æ–º –∏ –∫—É—Ä–∏—Ü–µ–π https://youtu.be/0FkwPJxtW-U\n–ü–µ—á–µ–Ω–æ—á–Ω—ã–π —Ç–æ—Ä—Ç 2026 https://youtu.be/T8ery8GbgWo\n–ò–Ω–¥–µ–π–∫–∞ –ó–∞–ø–µ—á–µ–Ω–Ω–∞—è —Ü–µ–ª–∏–∫–æ–º https://youtu.be/O3-qWosQanw\n\n\n–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é –≤–∞—Å –Ω–∞ –∫—É–ª–∏–Ω–∞—Ä–Ω–æ–º –∫–∞–Ω–∞–ª–µ \"–†–µ—Ü–µ–ø—Ç—ã –≤ –≥–æ—Å—Ç—è—Ö —É –í–∞–Ω–∏\"!\n–ú–µ–Ω—è –∑–æ–≤—É—Ç –ò–≤–∞–Ω, —è –∂–∏–≤—É –≤ –ö–∞–Ω–∞–¥–µ üá®üá¶ –∏ –æ—á–µ–Ω—å –ª—é–±–ª—é –≥–æ—Ç–æ–≤–∏—Ç—å. –≠—Ç–æ—Ç –∫–∞–Ω–∞–ª –ø–æ—Å–≤—è—â–µ–Ω –≤–∫—É—Å–Ω–æ–π –¥–æ–º–∞—à–Ω–µ–π –µ–¥–µ –∏ –≤—Å–µ–º —Ç–µ–º —Å–µ–∫—Ä–µ—Ç–∞–º –∫—É–ª–∏–Ω–∞—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —è –Ω–∞–∫–æ–ø–∏–ª –∑–∞ –≥–æ–¥—ã.\n\n#—Å–∞–ª–∞—Ç #–æ–ª–∏–≤—å–µ #–Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π—Å–∞–ª–∞—Ç #–ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π—Å—Ç–æ–ª #—Å–∞–ª–∞—Ç–Ω–∞–Ω–æ–≤—ã–π–≥–æ–¥ #–ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ–ú–µ–Ω—é #—Å–∞–ª–∞—Ç—ã–Ω–∞–Ω–æ–≤—ã–π–≥–æ–¥ #–Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ—Ä–µ—Ü–µ–ø—Ç—ã  #–≤–∫—É—Å–Ω—ã–π #–†–µ—Ü–µ–ø—Ç—ã #–ò–≤–∞–Ω–ö–∞—Å #–ï–¥–∞ #–ö—É–ª–∏–Ω–∞—Ä–∏—è #–í–∫—É—Å–Ω–∞—è–µ–¥–∞ #–í–∫—É—Å–Ω—ã–µ—Ä–µ—Ü–µ–ø—Ç—ã #–í–∫—É—Å–Ω—ã–µ–±–ª—é–¥–∞ #—Ä–µ—Ü–µ–ø—Ç—ã–±–ª—é–¥ –æ–ª–∏–≤—å–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, –∫–∞–∫ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –æ–ª–∏–≤—å–µ, —Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏—Ç—Å—è –º–æ—Ä–∫–æ–≤—å –¥–ª—è –æ–ª–∏–≤—å–µ, —Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏—Ç—å –∫–∞—Ä—Ç–æ—à–∫—É –Ω–∞ –æ–ª–∏–≤—å–µ, –æ–ª–∏–≤—å–µ —Å–æ—Å—Ç–∞–≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π, —Ä–µ—Ü–µ–ø—Ç –æ–ª–∏–≤—å–µ —Å –∫–æ–ª–±–∞—Å–æ–π, –æ–ª–∏–≤—å–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å –∫–æ–ª–±–∞—Å–æ–π, –∫–∞–∫ –¥–µ–ª–∞–µ—Ç—Å—è –æ–ª–∏–≤—å–µ, –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π —Å—Ç–æ–ª, –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Å–∞–ª–∞—Ç—ã –∏–Ω–¥–µ–∫—Å –æ–ª–∏–≤—å–µ, —á–µ–º –∑–∞–º–µ–Ω–∏—Ç—å –∫–æ–ª–±–∞—Å—É –≤ –æ–ª–∏–≤—å–µ, –æ–ª–∏–≤—å–µ —Å–∞–ª–∞—Ç, –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —Å–∞–ª–∞—Ç—ã\n370 comments\n",
            "score": 0.90289277,
            "raw_content": None
        },
        {
            "url": "https://www.russianfood.com/recipes/bytype/?fid=746",
            "title": "–°–∞–ª–∞—Ç –û–ª–∏–≤—å–µ, —Ä–µ—Ü–µ–ø—Ç—ã –Ω–∞ RussianFood.com",
            "content": "–û—á–µ–Ω—å –≤–∫—É—Å–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç —Å–∞–ª–∞—Ç–∞ \"–û–ª–∏–≤—å–µ\". –ü—Ä–æ–¥—É–∫—Ç—ã: —è–∑—ã–∫ –≥–æ–≤—è–∂–∏–π, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –º–æ—Ä–∫–æ–≤—å, –æ–≥—É—Ä—Ü—ã —Å–æ–ª—ë–Ω—ã–µ, —è–π—Ü–∞, –≥–æ—Ä–æ—à–µ–∫ –∑–µ–ª—ë–Ω—ã–π –∫–æ–Ω—Å–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, —Å–æ–ª—å, –ø–µ—Ä–µ—Ü —á—ë—Ä–Ω—ã–π –º–æ",
            "score": 0.902481,
            "raw_content": None
        }
    ],
    "response_time": 0.0,
    "request_id": "fallback-recipe-init"
}

FALLBACK_SELECTED_INDEX = 1  # Second result (index 1)


def main():
    """Initialize database and insert fallback recipe."""
    logger.info("Initializing database...")
    init_database()
    
    logger.info("Inserting fallback recipe...")
    recipe_id = "fallback-recipe-olivie"
    
    # Check if fallback already exists
    from backend.database import get_recipe
    existing = get_recipe(recipe_id)
    
    if existing:
        logger.info(
            "Fallback recipe already exists",
            extra={"recipe_id": recipe_id}
        )
        return
    
    create_recipe(
        recipe_id=recipe_id,
        query=FALLBACK_TAVILY_RESPONSE["query"],
        tavily_response=FALLBACK_TAVILY_RESPONSE,
        selected_result_index=FALLBACK_SELECTED_INDEX,
        status="stored"
    )
    
    logger.info(
        "Fallback recipe created successfully",
        extra={"recipe_id": recipe_id}
    )


if __name__ == "__main__":
    main()
